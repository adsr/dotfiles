#!/bin/bash

# soft word wrap
echo '-w1'

# mark col 80
echo '-c80'

# highlight bracket pairs
echo '-b1'

# auto indent
echo '-i1'

# syntax: makefile
echo '-Ssyn_makefile,(/?Makefile|\.mk)$,4,0'
echo '-s^\t+,,515,0'
echo '-s^[^:\s]+(?=:),,260,0'
echo '-s^[^=\s]+(?==),,261,0'

# syntax: mlerc
echo '-Ssyn_mlerc,\.?mlerc$,4,1'
echo '-s^;.*,,7,0'

# syntax: markdown
echo '-Ssyn_markdown,\.md$,4,1'
echo '-s^#.*,,256,0'
echo '-s^>.*,,4,0'
echo '-s^\s*(\*|\d+.),,6,0'
echo '-s^(\t| {4})(?=\S),,515,0'

# define keymap mle_as
echo '-Kmle_as,,1'

# M-q: replace grep with git grep if `.git` exists
if [ -d '.git' ]; then
    echo '-kcmd_grep,M-q,git grep --color=never -P -i -I -n %s 2>/dev/null'
fi

# M-x t: tableize
if command -v tableize &>/dev/null; then
    echo '-kcmd_shell,M-x t,tableize 2>/dev/null'
fi

# default keymap to mle_as
echo '-nmle_as'
